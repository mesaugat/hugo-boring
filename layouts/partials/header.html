<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
    <a href="{{ "/" | relLangURL }}" class="mr-6 text-primary-text text-xl hover:text-boring font-bold">{{ .Site.Title }}</a>
    <div class="flex">
        <div class="relative">
            <div class="cursor-pointer hover:text-boring" id="themeSelector">
                <i class="fas fa-adjust"></i>
            </div>
        </div>
    </div>
</nav>
<script>
    const root = document.getElementsByTagName('html')[0]
    const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
    const currentTheme = localStorage.getItem('boring:theme')
    const element = document.getElementById('themeSelector')

    if ((systemTheme == 'dark' && localStorage == null) || currentTheme == 'dark') {
        root.classList.add('dark')
    }

    element.addEventListener('click', () => {
        root.classList.toggle('dark')

        let theme = 'light'
        if (root.classList.contains('dark')) {
            theme = 'dark'
        }

        localStorage.setItem('boring:theme', theme)
    })
</script>
